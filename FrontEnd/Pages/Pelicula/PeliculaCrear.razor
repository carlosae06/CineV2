@page "/Peliculas/Crear"

@inject IRepositorio repositorioHTTP
@inject NavigationManager navigationManager
@inject IMostrarMensajes mostrarMensaje


<FormularioPelicula OnValidSubmit="@Guardar" model="@model"></FormularioPelicula>


@code {

    DTOs.Pelicula.PeliculaActualizarDTO model = new DTOs.Pelicula.PeliculaActualizarDTO();

    private async Task Guardar()
    {
        //var pregunta = await mostrarMensaje.Confirmacion("Insertar","¿Está seguro de guardar el autor?", "question");
        //if (pregunta)
        //{
        var response = await repositorioHTTP.Post<DTOs.Pelicula.PeliculaActualizarDTO>("Peliculas", model);
        //if (response.Error)
            //{
            //   await mostrarMensaje.MostrarMensajeError("Error al guardar el Categoria");
            //}
            //else
            //{
            //    await mostrarMensaje.MostrarMensajeExitoso("Categoria guardado con éxito");
                navigationManager.NavigateTo("/Peliculas");
        //    }
        //}

        
    }

}